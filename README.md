# ProjectManager
Android Client App using RESTful API

This app was built to test the API exposed by my project_manager project, which was built using the Laravel framework. The mobile app authenticates using a password grant token model, then can query the API. 

ProjectManager has also been serving as a learning exercise so I can familiarize myself with a number of Android Architecture components and models:

  * Kotlin Language
  * Dependency Injection
  * ViewBinding/Adapters
  * ViewModel
  * LiveData
  * Repository
  * Room
  * NetworkBoundResource
  * And other things picked up along the way
  
  ## Project Build

**Test Server Configs**

As mentioned before, this app queries the project_manager API to retrieve its data.  Currently the Project Manager Web App is not hosted on an accessable server, so you will need to download that project and set it up on your own machine :)

In order for the app to reach the test server, you will need to enter the IP/Name of your machine in the gradle.properties file. 
```
TEST_SERVER_IP_ADDRESS="yourServerIP"
```
**SSL**

You will need to implement SSL on the server serving the project_manager Laravel application.  The ProjectManager Android client app will need a copy of the server's
public certificate.  This should be saved in app/src/res/raw/server.crt

Additionally ensure the XML in app/src/res/xml/network_security_config.xml references the server.crt file

```
<?xml version="1.0" encoding="utf-8"?>
<network-security-config>
    <domain-config cleartextTrafficPermitted="true">
        <domain includeSubdomains="true">[YOUR DOMAIN]</domain>
        <trust-anchors>
            <certificates src="@raw/server"/>
        </trust-anchors>
    </domain-config>
</network-security-config>
```

**API Keys**

Keys should all be saved in the gradle.properties file.  
For the required keys listed below, use the variable name specified with "yourKeyName" 
replaced with the API key you receive for your project.

Several keys are required.  ```TEST_API_SECRET``` is an OAUTH2 grant client token generated by the Laravel Passport framework.
```TEST_CLIENT_ID``` is the grant client id corresponding to the client token.  Both are generated by the command php artisan passport:install
command in the Laravel project and stored in the database. ```PUSHER_APP_KEY``` is generated by the Pusher platform online, see pusher.com and
set up an account.

Required keys:
* project_manager API Key: ```TEST_API_SECRET="yourGeneratedKey"```
* project_manager client id: ```TEST_CLIENT_ID="yourGeneratedIdForMobileApp```
* Pusher API Key: ```PUSHER_APP_KEY="yourPusherKey```

gradle.properties file:

```
TEST_SERVER_IP_ADDRESS="yourServerIP"
TEST_API_SECRET="yourGeneratedKey"
TEST_CLIENT_ID="yourGeneratedId
PUSHER_APP_KEY="yourPusherKey
```
